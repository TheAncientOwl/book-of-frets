const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChordsV1-D9SEdNL5.js","assets/index-CwDlIbmk.js","assets/chakra-Bs1B7cse.js","assets/react-Dawx916Q.js","assets/emotion-BHGz36At.js","assets/framer-motion-BfIGsj43.js","assets/Chord-Dcak7db4.js","assets/ChordsV3-BBVnI_Zj.js","assets/GuitarTabsV1-DJQHRCuY.js","assets/Notes-BAAFeu9X.js","assets/SongResources-Dxx-ZkP7.js","assets/index-BTOh0T1S.js"])))=>i.map(i=>d[i]);
import{u as e,A as r,f as o,g as t,h as s,a as i,M as n,i as a,j as l,G as c,k as d,l as h,m as p,_ as m,e as u,n as x}from"./index-CwDlIbmk.js";import{j as b,H as g,p as y,J as j,r as f,N as C,a4 as w,F as k,B as v,o as _,I as S,O as I,k as L,y as z,n as R}from"./chakra-Bs1B7cse.js";import{C as T,G as V}from"./Chord-Dcak7db4.js";import{r as A}from"./react-Dawx916Q.js";import"./emotion-BHGz36At.js";import"./framer-motion-BfIGsj43.js";const D=i=>{const{chordsIndex:n,theme:a}=e(e=>({chordsIndex:e.chordsIndex,theme:e.appTheme.song}));return 1===i.chordIDs.length&&"-"===i.chordIDs[0]||0===i.chordIDs.length?null:b.jsxs(r,{defaultOpen:!0,children:[b.jsxs(o,{boxProps:{borderColor:a.items.divider,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[b.jsx(g,{as:"h3",size:"md",fontSize:"lg",width:"100%",color:a.items.item.title,children:"Chords"}),b.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:a.items.item.title})]}),b.jsx(s,{children:b.jsx(y,{display:"flex",gap:"0.5em",overflowX:"auto",padding:["1.1em 0em","1.1em 1em"],children:i.chordIDs.map(e=>{const r=n[e];return void 0===r?(console.error(`Missing chord config for ID ${e}`),null):b.jsx(j,{children:b.jsx(T,{...r,containerProps:{fontSize:["7px","8px","8px"]}})},e)})})})]})},E=e=>{const r=i(e=>e.appTheme.song);return b.jsx(b.Fragment,{children:e.available&&b.jsx(f,{label:e.lyricsShown?"Hide Lyrics":"Show Lyrics",padding:"0.25em 0.5em",borderRadius:"0.5em",borderStyle:"solid",borderWidth:"thin",color:r.buttons.pdf.text,backgroundColor:r.background,borderColor:r.buttons.pdf.text,children:b.jsx(C,{variant:"outline","aria-label":"show-lyrics-button",icon:b.jsx(n,{color:e.lyricsShown?r.buttons.lyrics.bgHide:r.buttons.lyrics.bgShow}),display:"flex",gap:"3px",justifyContent:"center",alignItems:"center",size:"sm",onClick:e.onClick,colorScheme:e.lyricsShown?r.buttons.lyrics.bgHide:r.buttons.lyrics.bgShow,color:r.buttons.lyrics.text,borderColor:e.lyricsShown?r.buttons.lyrics.bgHide:r.buttons.lyrics.bgShow,_hover:{backgroundColor:"black"}})})})},$=({directory:e})=>{const r=i(e=>e.appTheme.song),o=i(e=>e.appTheme.id);return b.jsx(f,{label:"Open PDF",padding:"0.25em 0.5em",borderRadius:"0.5em",borderStyle:"solid",borderWidth:"thin",color:r.buttons.pdf.text,backgroundColor:r.background,borderColor:r.buttons.pdf.text,children:b.jsx(C,{"aria-label":"open-pdf-button",icon:b.jsx(a,{color:r.buttons.pdf.text}),display:"flex",gap:"3px",justifyContent:"center",alignItems:"center",size:"sm",onClick:()=>{window.open(`/songs/${e}/pdf/${e}.${o}.pdf`,"_blank")},variant:"outline",colorScheme:r.buttons.pdf.bg,color:r.buttons.pdf.text,borderColor:r.buttons.pdf.bg,_hover:{backgroundColor:"black"}})})},O=e=>{const r=i(e=>e.appTheme.song);return b.jsx(f,{label:e.title,padding:"0.25em 0.5em",borderRadius:"0.5em",borderStyle:"solid",borderWidth:"thin",color:r.buttons.pdf.text,backgroundColor:r.background,borderColor:r.buttons.pdf.text,children:b.jsx(C,{"aria-label":"open-youtube-button",icon:b.jsx(l,{color:r.buttons.pdf.text}),display:"flex",gap:"3px",justifyContent:"center",alignItems:"center",size:"sm",variant:"outline",colorScheme:r.buttons.pdf.bg,color:r.buttons.pdf.text,borderColor:r.buttons.pdf.bg,_hover:{backgroundColor:"black"},onClick:()=>{e.link&&window.open(e.link,"_blank","noopener,noreferrer")}})})};function P(e){return c({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"circle",attr:{cx:"18",cy:"5",r:"3"},child:[]},{tag:"circle",attr:{cx:"6",cy:"12",r:"3"},child:[]},{tag:"circle",attr:{cx:"18",cy:"19",r:"3"},child:[]},{tag:"line",attr:{x1:"8.59",y1:"13.51",x2:"15.42",y2:"17.49"},child:[]},{tag:"line",attr:{x1:"15.41",y1:"6.51",x2:"8.59",y2:"10.49"},child:[]}]})(e)}function W(e){return c({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,48a24,24,0,0,0-24,24H72a24,24,0,0,0-48,0v80a64,64,0,0,0,64,64h80a64,64,0,0,0,64-64V72A24,24,0,0,0,208,48Zm-8,104a32,32,0,0,1-32,32H88a32,32,0,0,1-32-32v-8a32,32,0,0,1,32-32h80a32,32,0,0,1,32,32Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M168,104H88a40,40,0,0,0-40,40v8a40,40,0,0,0,40,40h80a40,40,0,0,0,40-40v-8A40,40,0,0,0,168,104Zm24,48a24,24,0,0,1-24,24H88a24,24,0,0,1-24-24v-8a24,24,0,0,1,24-24h80a24,24,0,0,1,24,24ZM208,40a32.06,32.06,0,0,0-31,24H79a32,32,0,0,0-63,8v80a72.08,72.08,0,0,0,72,72h80a72.08,72.08,0,0,0,72-72V72A32,32,0,0,0,208,40Zm16,112a56.06,56.06,0,0,1-56,56H88a56.06,56.06,0,0,1-56-56V72a16,16,0,0,1,32,0,8,8,0,0,0,8,8H184a8,8,0,0,0,8-8,16,16,0,0,1,32,0Zm-120-4a12,12,0,1,1-12-12A12,12,0,0,1,104,148Zm72,0a12,12,0,1,1-12-12A12,12,0,0,1,176,148Z"},child:[]}]})(e)}const F={acoustic:b.jsx(h,{}),electric:b.jsx(d,{})},H=e=>{const[r,o]=A.useState(!1),t=i(e=>e.appTheme.song),s=w();return b.jsxs(k,{direction:"column",alignItems:"center",mb:"10px",overflowX:"hidden",children:[b.jsxs(v,{position:"relative",cursor:"pointer",width:["70px","80px"],height:["70px","80px"],mb:["5px"],mt:"1em",overflow:"visible",children:[b.jsxs(_,{isLoaded:r,width:"100%",height:"100%",borderRadius:"10px",children:[b.jsx(S,{src:`/songs/${e.directory}/cover-192x192.webp`,srcSet:`\n                /songs/${e.directory}/cover-64x64.webp   64w,\n                /songs/${e.directory}/cover-128x128.webp 128w,\n                /songs/${e.directory}/cover-192x192.webp 192w`,alt:`${e.title} cover`,width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px",borderStyle:"solid",borderWidth:"thin",onLoad:()=>o(!0),borderColor:t.header.coverBorder}),b.jsx(v,{position:"absolute",inset:"0",borderRadius:"10px",background:"blackAlpha.800",opacity:0,_hover:{opacity:1,cursor:"pointer"},display:"flex",alignItems:"center",justifyContent:"center",pointerEvents:"auto",borderStyle:"solid",borderWidth:"thin",borderColor:t.header.coverBorder,onClick:async()=>{const e=window.location.href;try{if(navigator.clipboard&&navigator.clipboard.writeText)await navigator.clipboard.writeText(e);else{const r=document.createElement("textarea");r.value=e,r.style.position="fixed",r.style.opacity="0",document.body.appendChild(r),r.focus(),r.select(),document.execCommand("copy"),document.body.removeChild(r)}s({title:"Link copied to clipboard",status:"success",duration:2e3,isClosable:!0,position:"top"})}catch{s({title:"Failed to copy link",status:"error",duration:2e3,isClosable:!0,position:"top"})}},children:b.jsx(P,{size:22,color:t.capo.text})})]}),b.jsx(I,{zIndex:10,position:"absolute",right:"0",top:"0",transform:"translate(50%, -50%)",size:"1em",padding:"15px",fontWeight:"bold",borderWidth:"thin",backgroundColor:t.capo.background,borderColor:t.capo.border,color:t.capo.text,children:b.jsxs(k,{alignItems:"end",children:[b.jsx(L,{fontSize:"sm",children:"C"}),b.jsx(L,{fontSize:"xs",children:e.capo})]})}),b.jsxs(k,{position:"absolute",right:"-1.25em",bottom:"0",justifyContent:"center",alignItems:"center",color:t.header.typeTags,direction:"column",children:[e.type.map((e,r)=>b.jsx(A.Fragment,{children:b.jsx(f,{label:e,padding:"0.25em 0.5em",borderRadius:"0.5em",borderStyle:"solid",borderWidth:"thin",color:t.header.typeTags,backgroundColor:t.background,borderColor:t.header.typeTags,children:F[e]})},r)),b.jsx(f,{label:b.jsxs(k,{justify:"center",alignItems:"center",gap:"5px",children:[b.jsx(W,{}),b.jsx(v,{as:"span",fontWeight:"bold",children:"Contributors:"}),b.jsx(v,{as:"span",children:0===e.contributors.length?"No Contributors":e.contributors.join(", ")})]}),padding:"0.25em 0.5em",borderRadius:"0.5em",borderStyle:"solid",borderWidth:"thin",color:t.header.contributors.contributor,backgroundColor:t.background,borderColor:t.header.contributors.contributor,children:b.jsx(W,{})})]}),b.jsxs(k,{flexDirection:"column",top:"0",left:["7em","8em"],position:"absolute",justifyContent:"center",alignItems:"center",gap:"10px",height:"100%",children:[b.jsx($,{directory:e.directory}),b.jsx(E,{available:e.lyrics,lyricsShown:e.lyricsShown,onClick:e.onToggleLyrics})]}),b.jsx(k,{flexDirection:"column",top:"0",right:["7em","8em"],position:"absolute",justifyContent:"center",alignItems:"center",gap:"10px",height:"100%",children:e.res.map((e,r)=>b.jsx(O,{title:b.jsxs(b.Fragment,{children:["Open in Youtube â‡’ ",e.alias," by ",e.author]}),link:e.link},r))})]}),b.jsx(g,{noOfLines:1,as:"h1",size:["sm","md"],mb:["5px"],textAlign:"center",color:t.header.title,children:e.title}),b.jsx(g,{noOfLines:1,as:"h2",size:["xs","sm"],mb:["5px"],fontStyle:"italic",textAlign:"center",color:t.header.artists,children:e.artists.map((r,o)=>b.jsxs(A.Fragment,{children:[r," ",o<e.artists.length-1&&", "]},o))})]})},Z=A.lazy(()=>m(()=>import("./ChordsV1-D9SEdNL5.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.ChordsV1Renderer}))),M=A.lazy(()=>m(()=>import("./Chord-Dcak7db4.js").then(e=>e.e),__vite__mapDeps([6,2,3,4,5,1])).then(e=>({default:e.ChordsV2Renderer}))),N=A.lazy(()=>m(()=>import("./ChordsV3-BBVnI_Zj.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(e=>({default:e.ChordsV3Renderer}))),B=A.lazy(()=>m(()=>import("./GuitarTabsV1-DJQHRCuY.js"),__vite__mapDeps([8,2,3,4,5,1])).then(e=>({default:e.GuitarTabsV1Renderer}))),G=e=>{switch(e.entry.renderer){case"chords-v1":return b.jsx(Z,{data:e.entry.data,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v2":return b.jsx(M,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v3":return b.jsx(N,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"gtab-v1":return b.jsx(b.Fragment,{children:b.jsx(B,{data:e.entry.data})});default:return console.error(`Unimplemented chords type "${e.entry.renderer}`),b.jsx(v,{color:"red",backgroundColor:"black",padding:"0.25em 0.5em",borderRadius:"5px",cursor:"help",children:b.jsx(f,{label:b.jsx(v,{as:"pre",whiteSpace:"pre-wrap",fontSize:"xs",maxW:"600px",children:JSON.stringify(e.entry,null,2)}),children:`[Configuration-Error] Unimplemented renderer type "${e.entry.renderer}"`})})}},X=e=>b.jsx(k,{direction:"column",alignItems:"center",overflowX:["auto","hidden"],children:b.jsx(A.Suspense,{fallback:b.jsx(p,{}),children:b.jsx(G,{...e})})}),J=e=>{const n=i(e=>e.appTheme.song);return b.jsxs(r,{defaultOpen:!0,children:[b.jsxs(o,{boxProps:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",borderColor:n.items.divider},children:[b.jsx(g,{as:"h3",size:"sm",textAlign:"center",textTransform:"capitalize",color:n.items.item.title,children:b.jsxs(L,{as:"span",position:"relative",fontSize:"lg",children:[e.name,e.times>1&&b.jsxs(z,{size:"sm",position:"absolute",bottom:0,right:0,transform:"translate(120%, 20%)",backgroundColor:n.items.item.times.background,color:n.items.item.times.color,children:["x",e.times]})]})}),b.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:n.items.item.title})]}),b.jsx(s,{children:b.jsx(k,{direction:"column",gap:V,pt:"0.5em",pb:"1.5em",children:e.entries.map((r,o)=>b.jsx(X,{entry:r,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics},o))})})]})},U=e=>b.jsx(b.Fragment,{children:e.order.map((r,o)=>{const t=e.sections[r];return console.assert(void 0!==t,`Failed to find song section data for "${r}"`),b.jsx(J,{...t,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics[o]},`${r}-${o}`)})}),Y=A.lazy(()=>m(()=>import("./Notes-BAAFeu9X.js"),__vite__mapDeps([9,2,3,4,5,1]))),q=A.lazy(()=>m(()=>import("./SongResources-Dxx-ZkP7.js"),__vite__mapDeps([10,2,3,4,5,1]))),K=A.lazy(()=>m(()=>import("./index-BTOh0T1S.js"),__vite__mapDeps([11,3])).then(e=>({default:e.InView}))),Q=r=>{const{theme:o,displayNotes:t,displayChordsList:s,displayResources:i}=e(e=>({theme:e.appTheme.song,displayNotes:e.songSettings.display.notes,displayChordsList:e.songSettings.display.allChords,displayResources:e.songSettings.display.resources})),[n,a]=u(r.title+"-show-lyrics",!1),[l,c]=u(r.title+"-lyrics",[]);return b.jsxs(R,{maxW:["100vw","5xl"],padding:["0.5em 0em","1em"],borderRadius:["0em","0.5em"],height:"100%",overflowY:"scroll",backgroundColor:o.background,children:[b.jsx(H,{directory:r.directory,title:r.title,artists:r.artists,capo:r.capo,type:r.type,contributors:r.contributors,lyrics:r.lyrics,lyricsShown:n,onToggleLyrics:()=>{a(!n),0===l.length&&x(`/songs/${r.directory}/lyrics.min.json.gz.bin`,`/songs/${r.directory}/lyrics.min.json`,`/songs/${r.directory}/lyrics.json`,e=>c(e.lyrics),e=>{console.error("Failed to fetch song lyrics:",e)})},res:r.res}),b.jsxs(v,{padding:["1em 5px","1em 1em"],borderRadius:"1em",backgroundColor:o.items.background,children:[t&&r.notes.length>0&&b.jsx(A.Suspense,{fallback:b.jsx(p,{}),children:b.jsx(Y,{notes:r.notes})}),s&&b.jsx(D,{chordIDs:r.chordIDs}),b.jsx(U,{sections:r.sections,order:r.order,strumms:r.strumms,showLyrics:n&&l.length>0,lyrics:l})]}),i&&b.jsx(K,{triggerOnce:!0,rootMargin:"300px",children:({inView:e,ref:o})=>b.jsx(A.Suspense,{fallback:b.jsx(p,{}),children:b.jsx(v,{ref:o,children:e?b.jsx(q,{res:r.res}):null})})})]})};export{Q as Song,Q as default};
