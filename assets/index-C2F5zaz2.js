const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Lyrics-DFFm2MHX.js","assets/chakra-Bp_y4ZeA.js","assets/react-Dawx916Q.js","assets/emotion-BT-7dynU.js","assets/framer-motion-CBgHlZgs.js","assets/index-Ci1bEQqf.js"])))=>i.map(i=>d[i]);
import{j as e,F as t,O as r,l as n,h as s,a4 as o,B as i,k as d,P as a,s as c,y as h,r as l,a5 as m,v as p,w as g,a6 as x,H as u}from"./chakra-Bp_y4ZeA.js";import{G as j,u as b,a as f,e as C,_ as y}from"./index-Ci1bEQqf.js";import{r as w}from"./react-Dawx916Q.js";function v(e){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(e)}const S=["E","A","D","G","B","e"],T=["3.5px","3px","2.5px","2px","1.5px","1px"],P=i=>{const{theme:d,showFinger:a}=b(e=>({theme:e.appTheme.fret,showFinger:e.songSettings.display.chordsFingers})),c=a?d.finger.background:d.finger.border;return e.jsx(t,{direction:"row",height:"5em",position:"relative",backgroundColor:d.background,children:S.map((t,h)=>{const l=i.stringsToFingers.get(t),m=void 0!==l&&-1!==l,p=-1===l,g=20*h;return e.jsxs(w.Fragment,{children:[p&&e.jsx(r,{size:"1.5em",fontWeight:"bold",borderWidth:"thin",position:"absolute",top:"-35%",left:`${g}%`,transform:"translateX(-50%)",padding:"0.75em",zIndex:"1",backgroundColor:d.muted.background,borderColor:d.muted.border,color:d.muted.color,children:e.jsx(n,{as:v})}),e.jsx(s,{orientation:"vertical",borderLeft:`${T[h]} solid`,borderColor:d.dividers}),h<S.length-1&&e.jsx(o,{}),m&&e.jsx(r,{size:"1.5em",fontWeight:"bold",borderWidth:"thin",position:"absolute",top:"50%",left:`${g}%`,transform:"translate(-50%, -50%)",padding:"0.75em",zIndex:"1",backgroundColor:c,borderColor:d.finger.border,color:d.finger.color,children:a&&e.jsx(e.Fragment,{children:7===l?"T":l})})]},t)})})},k=["De","Ue"],I=r=>{const{theme:n,songSettings:s}=b(e=>({theme:e.appTheme.song,songSettings:e.songSettings}));return e.jsx(e.Fragment,{children:s.display.strummingPattern&&e.jsx(i,{position:"relative",mt:"0.4em",children:e.jsx(t,{direction:"row",gap:"0.5em",justifyContent:"center",color:n.items.item.chordsPattern.chord.section.pattern,children:r.pattern.map((t,r)=>e.jsx(d,{fontWeight:"bold",textDecoration:k.includes(t)?"underline":"none",children:t.replace("e","")},r))})})})},z=(e,t)=>{const r=[];for(let n=2;n<e.length;n+=2)r.push(t(e[n-1],e[n],n-1));return r},W=r=>{const{theme:n,chordsIndex:o,songSettings:i}=b(e=>({theme:e.appTheme.song,chordsIndex:e.chordsIndex,songSettings:e.songSettings}));return e.jsxs(t,{direction:"column",justifyContent:"center",alignItems:"center",gap:"0.5rem",children:[e.jsx(t,{direction:"column",gap:"20px",children:r.data.map((r,u)=>e.jsx(t,{direction:"row",gap:"20px",justifyContent:"center",children:z(r,(r,u,j)=>{if("|"===r)return e.jsx(s,{height:"22px",width:"0px",borderWidth:"thin",borderColor:n.items.divider},j);if("/"===r)return e.jsx("br",{},j);const b=o[r];return void 0===b&&console.error(`Missing chord index for ID '${r}'`),e.jsxs(a,{isLazy:!0,children:[e.jsx(c,{children:e.jsxs(h,{mt:"10px",as:"button",fontWeight:"bold",cursor:"pointer",position:"relative",whiteSpace:"nowrap",backgroundColor:n.items.item.chordsPattern.chord.background,color:n.items.item.chordsPattern.chord.color,children:["-"!==r&&void 0!==b?b.name:"-",i.display.chordTimes&&("1"!==u||i.display.chordTimesOne)&&e.jsx(l,{label:`Strum ${u} times`,children:e.jsx(d,{position:"absolute",top:"-10px",right:"0",transform:"translateX(100%)",fontSize:"xs",fontWeight:"bold",color:n.items.item.chordsPattern.chord.section.times,children:u})})]})}),e.jsx(m,{children:b&&e.jsxs(p,{zIndex:1,backgroundColor:n.items.item.chordsPattern.chord.section.popover.background,borderColor:n.items.item.chordsPattern.chord.section.popover.border,children:[e.jsx(g,{backgroundColor:n.items.item.chordsPattern.chord.section.popover.arrow}),e.jsx(x,{color:n.items.item.chordsPattern.chord.section.popover.closeButton}),e.jsx(t,{justifyContent:"center",padding:"25px",children:e.jsx(G,{...b})})]})})]},j)})},u))}),e.jsx(I,{pattern:r.strummingPattern})]})},F=r=>{f(e=>e.songSettings.display.chordTimesOne);const n=r.items.map(e=>e.map(e=>e.split(" ")));return e.jsx(t,{direction:"row",alignItems:"flex-end",justifyContent:"center",gap:"20px",children:n.map((t,n)=>{const s=Number(t[0][0]);return s>=r.strumms.length?(console.error({message:`Found strum index ${s} when strumms length is ${r.strumms.length}`,strumms:r.strumms}),null):e.jsx(W,{data:t,strummingPattern:r.strumms[s]},n)})})},L=w.lazy(()=>y(()=>import("./Lyrics-DFFm2MHX.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.ChordsV1Lyrics}))),D=(e,t)=>{const r=[];for(let n=2;n<e.length;n+=2)r.push(t(e[n-1],e[n],n-1));return r},$="0.75em",_=t=>{if(1==t.name.length)return t.name;const r=t.name[0],n=t.name.substring(1);return e.jsxs(i,{as:"span",children:[r,e.jsx(i,{as:"span",fontSize:"0.8em",children:n})]})},E=r=>{const{theme:n,songSettings:s}=b(e=>({theme:e.appTheme.song,songSettings:e.songSettings}));return e.jsxs(a,{isLazy:!0,children:[e.jsx(c,{children:e.jsxs(h,{mt:"10px",as:"button",fontWeight:"bold",cursor:"pointer",position:"relative",whiteSpace:"nowrap",backgroundColor:n.items.item.chordsPattern.chord.background,color:n.items.item.chordsPattern.chord.color,children:["-"!==r.chordId&&void 0!==r.chordConfig?e.jsx(_,{name:r.chordConfig.name}):"-",s.display.chordTimes&&("1"!==r.times||s.display.chordTimesOne)&&e.jsx(l,{label:`Strum ${r.times} times`,children:e.jsx(d,{position:"absolute",top:"-10px",right:"0",transform:"translateX(100%)",fontSize:"xs",fontWeight:"bold",color:n.items.item.chordsPattern.chord.section.times,children:r.times})})]})}),e.jsx(m,{children:r.chordConfig&&e.jsxs(p,{zIndex:1,backgroundColor:n.items.item.chordsPattern.chord.section.popover.background,borderColor:n.items.item.chordsPattern.chord.section.popover.border,children:[e.jsx(g,{backgroundColor:n.items.item.chordsPattern.chord.section.popover.arrow}),e.jsx(x,{color:n.items.item.chordsPattern.chord.section.popover.closeButton}),e.jsx(t,{justifyContent:"center",padding:"25px",children:e.jsx(G,{...r.chordConfig})})]})})]})},A=t=>{const{theme:r}=b(e=>({theme:e.appTheme.song})),n=t.horizontalSpacing??"-1.5em";return e.jsx(i,{zIndex:1,position:"between"!==t.positioning?"absolute":"relative",alignSelf:"stretch",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",left:"begin"===t.positioning?n:void 0,right:"end"===t.positioning?n:void 0,borderRight:"begin"===t.positioning||"between"===t.positioning?"1.5px solid":"none",borderLeft:"end"===t.positioning?"1.5px solid":"none",borderColor:r.items.item.chordsPattern.divider})},O=t=>{const{theme:r,settingsDisplaySectionTimes:n}=b(e=>({theme:e.appTheme.song,settingsDisplaySectionTimes:e.songSettings.display.sectionTimes})),s=n&&"x1"!==t.times;return e.jsx(l,{label:`Repeat ${t.times} times`,children:e.jsx(d,{size:"sm",fontWeight:"bold",zIndex:1,position:"absolute",right:t.right||"-3.25em",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:r.items.item.chordsPattern.chord.times.color,children:s&&e.jsx(e.Fragment,{children:t.times})})})},R=r=>{const{theme:n,chordsIndex:o}=b(e=>({theme:e.appTheme.song,chordsIndex:e.chordsIndex})),i=(e=>{const t=[[]];return e.forEach(e=>{"/"===e?t.push([]):t[t.length-1].push(e)}),t})(r.data);return e.jsxs(t,{direction:"row",justifyContent:"center",position:"relative",marginTop:r.marginTop,children:[r.isFirst&&e.jsx(A,{positioning:"begin"}),r.isLast&&e.jsx(A,{positioning:"end"}),e.jsx(t,{direction:"column",gap:$,children:i.map((r,i)=>e.jsx(t,{direction:"row",gap:"1em",justifyContent:"center",alignItems:"center",position:"relative",children:D(r,(t,r,i)=>{if("|"===t)return e.jsx(s,{height:"22px",width:"0px",borderWidth:"thin",borderColor:n.items.divider},i);const d=o[t];return e.jsx(E,{chordId:t,chordConfig:d,times:r},i)})},i))}),e.jsx(O,{times:r.times})]})},V=r=>{const{colsData:n,times:s,betweenSeparator:o}=(t=>{const r=new Array,n=new Array,s=new Array;return t.forEach(t=>{switch(t[0]){case"x":t.includes(" ! 0")?(t.split(" ! 0 ").forEach((e,t)=>{r.length<=t&&r.push(new Array),r[t].push(0===t?e:`x1 ${e}`)}),s.push(e.jsx(A,{positioning:"between"},s.length))):t.includes(" ? 0 ")?(t.split(" ? 0 ").forEach((e,t)=>{r.length<=t&&r.push(new Array),r[t].push(0===t?e:`x1 ${e}`)}),s.push(e.jsx(i,{height:"100%"},s.length))):(0===r.length&&r.push(new Array),r[0].push(t),s.push(e.jsx(A,{positioning:"between"},s.length))),n.push(t.substring(0,t.indexOf(" ")));break;case">":t.split(" ").slice(1).forEach((e,t)=>{r.length<=t&&r.push(new Array),r[t].push(`> ${e}`)}),n.push(" "),s.push(e.jsx(i,{height:"100%"},s.length));break;default:return console.error(`Not handled chords-v2 string "${t}"`),null}}),{colsData:r,times:n,betweenSeparator:s}})(r.data);return e.jsx(t,{direction:"row",gap:$,children:n.map((i,d)=>e.jsxs(w.Fragment,{children:[e.jsx(t,{direction:"column",flex:1,children:i.map((t,o)=>">"!=t[0]?e.jsx(R,{isFirst:0===d,isLast:d===n.length-1,marginTop:0!==o?$:"0",data:t.split(" ").slice(0),times:d===n.length-1?s[o]:void 0},o):e.jsx(I,{pattern:r.strummingPatterns[Number(t.substring(1))]},o))}),d<n.length-1?e.jsx(t,{direction:"column",gap:$,children:o}):null]},d))})},B=r=>e.jsxs(t,{direction:"column",justifyContent:"center",alignItems:"center",gap:"1em",children:[e.jsx(V,{data:r.data,strummingPatterns:r.strummingPatterns}),e.jsx(w.Suspense,{fallback:e.jsx(C,{}),children:e.jsx(L,{visible:r.showLyrics,lyrics:r.lyrics})})]}),N=Object.freeze(Object.defineProperty({__proto__:null,ChordV2Display:_,ChordsV2LineDelimiter:A,ChordsV2LineRenderer:V,ChordsV2LineTimes:O,ChordsV2Renderer:B,GAP_BETWEEN_CHORD_LINES:$,default:B},Symbol.toStringTag,{value:"Module"})),G=n=>{const{theme:o,fretTheme:d}=b(e=>({theme:e.appTheme.chord,fretTheme:e.appTheme.fret}));return e.jsxs(t,{width:"13em",padding:"1em 1em",borderRadius:"1em",fontSize:"12px",borderWidth:"thin",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",...n.containerProps,background:o.background,borderColor:o.border,children:[e.jsxs(u,{display:"flex",justifyContent:"center",alignItems:"center",gap:"5px",fontSize:"2.3em",textAlign:"center",mb:"0.25em",color:o.title,children:[e.jsx(_,{name:n.name}),n.startFret&&e.jsx(r,{size:"6",fontSize:"0.45em",fontWeight:"bold",borderWidth:"thin",backgroundColor:d.finger.background,borderColor:d.finger.border,color:o.title,children:n.startFret})]}),e.jsxs(i,{width:"11em",mt:"5px",children:[e.jsx(s,{borderWidth:"thin",borderColor:o.dividers}),n.frets.map((t,r)=>{const i=new Map(Object.entries(t).map(([e,t])=>[e,t]));return e.jsxs(w.Fragment,{children:[e.jsx(P,{stringsToFingers:i}),r<n.frets.length&&e.jsx(s,{borderWidth:"thin",borderColor:o.dividers})]},r)})]})]})};export{G as C,$ as G,F as a,V as b,A as c,O as d,N as e};
