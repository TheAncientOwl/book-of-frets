const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChordsV1-CeKjSyzH.js","assets/index-DEOW0k-C.js","assets/chakra-xEmxteXZ.js","assets/react-Dawx916Q.js","assets/emotion-CmbqVCnl.js","assets/framer-motion-B1vkIGQC.js","assets/index-A1QiJQud.js","assets/ChordsV3-DJ7DdZ_Z.js","assets/GuitarTabsV1-275CE7Nq.js","assets/index-BhtrWQWw.js","assets/index-CGwd9Y5q.js","assets/index-BTOh0T1S.js"])))=>i.map(i=>d[i]);
import{u as e,A as r,g as s,h as t,i as o,a as i,G as n,j as c,e as l,_ as a,f as d,k as h}from"./index-DEOW0k-C.js";import{j as m,H as x,p,J as u,F as j,B as b,o as y,I as g,O as f,k as w,P as _,s as C,v,w as z,a4 as S,a5 as k,x as L,r as I,K as D,y as T,n as $}from"./chakra-xEmxteXZ.js";import{C as P,G as R}from"./index-A1QiJQud.js";import{r as V}from"./react-Dawx916Q.js";import"./emotion-CmbqVCnl.js";import"./framer-motion-B1vkIGQC.js";const E=i=>{const{chordsIndex:n,theme:c}=e(e=>({chordsIndex:e.chordsIndex,theme:e.appTheme.song}));return 1===i.chordIDs.length&&"-"===i.chordIDs[0]||0===i.chordIDs.length?null:m.jsxs(r,{defaultOpen:!0,children:[m.jsxs(s,{boxProps:{borderColor:c.items.divider,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[m.jsx(x,{as:"h3",size:"md",textDecoration:"underline",width:"100%",color:c.items.item.title,children:"Chords"}),m.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:c.items.item.title})]}),m.jsx(o,{children:m.jsx(p,{display:"flex",gap:"10px",overflowX:"auto",padding:["1.1em 0em","1.1em 1em"],children:i.chordIDs.map(e=>{const r=n[e];return void 0===r?(console.error(`Missing chord config for ID ${e}`),null):m.jsx(u,{children:m.jsx(P,{...r,containerProps:{fontSize:["7px","8px","9px"]}})},e)})})})]})},O={acoustic:m.jsx(c,{}),electric:m.jsx(n,{})},A=e=>{const[r,s]=V.useState(!1),t=i(e=>e.appTheme.song);return m.jsxs(j,{direction:"column",alignItems:"center",mb:"15px",children:[m.jsxs(b,{position:"relative",width:["70px","80px"],height:["70px","80px"],mb:["5px"],children:[m.jsx(y,{isLoaded:r,width:"100%",height:"100%",borderRadius:"10px",children:m.jsx(g,{src:`/songs/${e.directory}/cover-192x192.webp`,srcSet:`\n              /songs/${e.directory}/cover-64x64.webp   64w,\n              /songs/${e.directory}/cover-128x128.webp 128w,\n              /songs/${e.directory}/cover-192x192.webp 192w`,alt:`${e.title} cover`,width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px",borderStyle:"solid",borderWidth:"thin",onLoad:()=>s(!0),borderColor:t.header.coverBorder})}),m.jsx(f,{position:"absolute",right:"0",top:"0",transform:"translate(50%, -50%)",size:"1em",padding:"15px",fontWeight:"bold",borderWidth:"thin",backgroundColor:t.capo.background,borderColor:t.capo.border,color:t.capo.text,children:m.jsxs(j,{alignItems:"end",children:[m.jsx(w,{fontSize:"sm",children:"C"}),m.jsx(w,{fontSize:"xs",children:e.capo})]})})]}),m.jsx(x,{noOfLines:1,as:"h1",size:["sm","md"],mb:["5px"],textAlign:"center",color:t.header.title,children:e.title}),m.jsx(x,{noOfLines:1,as:"h2",size:["xs","sm"],mb:["5px"],fontStyle:"italic",textAlign:"center",color:t.header.artists,children:e.artists.map((r,s)=>m.jsxs(V.Fragment,{children:[r," ",s<e.artists.length-1&&", "]},s))}),m.jsxs(_,{isLazy:!0,children:[m.jsx(C,{children:m.jsx(w,{as:"button",fontSize:"sm",mb:"10px",color:t.header.artists,_hover:{textDecoration:"underline",cursor:"pointer"},children:"Contributors"})}),m.jsxs(v,{overflow:"hidden",textAlign:"center",borderColor:t.header.contributors.border,children:[m.jsx(z,{backgroundColor:t.header.contributors.heading}),m.jsx(S,{color:t.header.contributors.title}),m.jsx(k,{fontWeight:"bold",borderBottom:"1px solid",backgroundColor:t.header.contributors.heading,color:t.header.contributors.title,children:"Song contributed by"}),m.jsx(L,{backgroundColor:t.header.contributors.content,color:t.header.contributors.contributor,children:e.contributors.length>0?e.contributors.map((r,s)=>m.jsx(w,{fontSize:"sm",mb:s<e.contributors.length-1?"2px":"0",children:r},s)):m.jsx(w,{fontSize:"sm",fontStyle:"italic",children:"No contributors"})})]})]}),m.jsx(j,{justifyContent:"center",color:t.header.typeTags,children:e.type.map((e,r)=>m.jsx(V.Fragment,{children:m.jsx(I,{label:e,children:O[e]})},r))})]})},F=e=>{const r=i(e=>e.appTheme.song.buttons);return m.jsx(m.Fragment,{children:e.available&&m.jsx(b,{display:"flex",justifyContent:"center",mb:"1em",children:m.jsx(D,{size:"sm",onClick:e.onClick,colorScheme:e.lyricsShown?r.lyrics.bgHide:r.lyrics.bgShow,color:r.lyrics.text,children:e.lyricsShown?"Hide Lyrics":"Show Lyrics"})})})},W=V.lazy(()=>a(()=>import("./ChordsV1-CeKjSyzH.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.ChordsV1Renderer}))),G=V.lazy(()=>a(()=>import("./index-A1QiJQud.js").then(e=>e.e),__vite__mapDeps([6,2,3,4,5,1])).then(e=>({default:e.ChordsV2Renderer}))),B=V.lazy(()=>a(()=>import("./ChordsV3-DJ7DdZ_Z.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(e=>({default:e.ChordsV3Renderer}))),H=V.lazy(()=>a(()=>import("./GuitarTabsV1-275CE7Nq.js"),__vite__mapDeps([8,2,3,4,5,1])).then(e=>({default:e.GuitarTabsV1Renderer}))),J=e=>{switch(e.entry.renderer){case"chords-v1":return m.jsx(W,{data:e.entry.data,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v2":return m.jsx(G,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v3":return m.jsx(B,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"gtab-v1":return m.jsx(m.Fragment,{children:m.jsx(H,{data:e.entry.data})});default:return console.error(`Unimplemented chords type "${e.entry.renderer}`),m.jsx(b,{color:"red",backgroundColor:"black",padding:"0.25em 0.5em",borderRadius:"5px",cursor:"help",children:m.jsx(I,{label:m.jsx(b,{as:"pre",whiteSpace:"pre-wrap",fontSize:"xs",maxW:"600px",children:JSON.stringify(e.entry,null,2)}),children:`[Configuration-Error] Unimplemented renderer type "${e.entry.renderer}"`})})}},M=e=>m.jsx(j,{direction:"column",alignItems:"center",overflowX:["auto","hidden"],children:m.jsx(V.Suspense,{fallback:m.jsx(l,{}),children:m.jsx(J,{...e})})}),N=e=>{const n=i(e=>e.appTheme.song);return m.jsxs(r,{defaultOpen:!0,children:[m.jsxs(s,{boxProps:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",borderColor:n.items.divider},children:[m.jsx(x,{as:"h3",size:"md",textAlign:"center",textDecoration:"underline",textTransform:"capitalize",color:n.items.item.title,children:m.jsxs(w,{as:"span",position:"relative",fontSize:["lg","xl"],children:[e.name,e.times>1&&m.jsxs(T,{size:"sm",position:"absolute",bottom:0,right:0,transform:"translate(120%, 20%)",backgroundColor:n.items.item.times.background,color:n.items.item.times.color,children:["x",e.times]})]})}),m.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:n.items.item.title})]}),m.jsx(o,{children:m.jsx(j,{direction:"column",gap:R,pt:"0.5em",pb:"1.5em",children:e.entries.map((r,s)=>m.jsx(M,{entry:r,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics},s))})})]})},U=e=>m.jsx(m.Fragment,{children:e.order.map((r,s)=>{const t=e.sections[r];return console.assert(void 0!==t,`Failed to find song section data for "${r}"`),m.jsx(N,{...t,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics[s]},`${r}-${s}`)})}),X=V.lazy(()=>a(()=>import("./index-BhtrWQWw.js"),__vite__mapDeps([9,2,3,4,5,1]))),K=V.lazy(()=>a(()=>import("./index-CGwd9Y5q.js"),__vite__mapDeps([10,2,3,4,5,1]))),Y=V.lazy(()=>a(()=>import("./index-BTOh0T1S.js"),__vite__mapDeps([11,3])).then(e=>({default:e.InView}))),q=e=>{const r=i(e=>e.appTheme.song),s=i(e=>e.appTheme.id),[t,o]=d(e.title+"-show-lyrics",!1),[n,c]=d(e.title+"-lyrics",[]);return m.jsxs($,{maxW:["100vw","5xl"],padding:["25px 0px","2em 1em"],borderRadius:["0em","0.5em"],height:"100%",overflowY:"scroll",backgroundColor:r.background,children:[m.jsx(A,{directory:e.directory,title:e.title,artists:e.artists,capo:e.capo,type:e.type,contributors:e.contributors}),m.jsxs(b,{display:"flex",justifyContent:"center",mb:"1em",gap:"10px",children:[m.jsx(F,{available:e.lyrics,lyricsShown:t,onClick:()=>{o(!t),0===n.length&&h(`/songs/${e.directory}/lyrics.min.json.gz.bin`,`/songs/${e.directory}/lyrics.min.json`,`/songs/${e.directory}/lyrics.json`,e=>c(e.lyrics),e=>{console.error("Failed to fetch song lyrics:",e)})}}),m.jsx(D,{size:"sm",onClick:()=>{window.open(`/songs/${e.directory}/pdf/${e.directory}.${s}.pdf`,"_blank")},colorScheme:r.buttons.pdf.bg,color:r.buttons.pdf.text,children:"Open PDF"})]}),m.jsxs(b,{padding:["1.5rem 10px","1.5rem 1rem"],borderRadius:"1rem",backgroundColor:r.items.background,children:[m.jsx(E,{chordIDs:e.chordIDs}),m.jsx(U,{sections:e.sections,order:e.order,strumms:e.strumms,showLyrics:t&&n.length>0,lyrics:n})]}),e.notes.length>0&&m.jsx(V.Suspense,{fallback:m.jsx(l,{}),children:m.jsx(X,{notes:e.notes})}),m.jsx(Y,{triggerOnce:!0,rootMargin:"300px",children:({inView:r,ref:s})=>m.jsx(V.Suspense,{fallback:m.jsx(l,{}),children:m.jsx(b,{ref:s,children:r?m.jsx(K,{res:e.res}):null})})})]})};export{q as Song,q as default};
