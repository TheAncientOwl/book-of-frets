const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/Lyrics-BBPi-3iF.js","assets/chakra-xEmxteXZ.js","assets/react-Dawx916Q.js","assets/emotion-CmbqVCnl.js","assets/framer-motion-B1vkIGQC.js","assets/index-DgAVgUeu.js"])))=>i.map(i=>d[i]);
import{j as e,F as t,O as r,l as n,h as o,a6 as s,B as i,k as d,P as c,s as a,y as h,r as l,a7 as m,v as g,w as p,a4 as u,H as x}from"./chakra-xEmxteXZ.js";import{l as j,u as b,a as f,e as y,_ as C}from"./index-DgAVgUeu.js";import{r as w}from"./react-Dawx916Q.js";function v(e){return j({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M400 145.49 366.51 112 256 222.51 145.49 112 112 145.49 222.51 256 112 366.51 145.49 400 256 289.49 366.51 400 400 366.51 289.49 256 400 145.49z"},child:[]}]})(e)}const S=["E","A","D","G","B","e"],T=i=>{const{theme:d,showFinger:c}=b(e=>({theme:e.appTheme.fret,showFinger:e.songSettings.display.chordsFingers})),a=c?d.finger.background:d.finger.border;return e.jsx(t,{direction:"row",height:"5em",position:"relative",backgroundColor:d.background,children:S.map((t,h)=>{const l=i.stringsToFingers.get(t),m=void 0!==l&&-1!==l,g=-1===l,p=20*h;return e.jsxs(w.Fragment,{children:[g&&e.jsx(r,{size:"1.5em",fontWeight:"bold",borderWidth:"thin",position:"absolute",top:"-10%",left:`${p}%`,transform:"translateX(-50%)",padding:"0.75em",zIndex:"1",backgroundColor:d.muted.background,borderColor:d.muted.border,color:d.muted.color,children:e.jsx(n,{as:v})}),e.jsx(o,{orientation:"vertical",borderWidth:"thin",borderColor:d.dividers}),h<S.length-1&&e.jsx(s,{}),m&&e.jsx(r,{size:"1.5em",fontWeight:"bold",borderWidth:"thin",position:"absolute",top:"50%",left:`${p}%`,transform:"translate(-50%, -50%)",padding:"0.75em",zIndex:"1",backgroundColor:a,borderColor:d.finger.border,color:d.finger.color,children:c&&e.jsx(e.Fragment,{children:7===l?"T":l})})]},t)})})},k=["De","Ue"],P=r=>{const{theme:n,songSettings:o}=b(e=>({theme:e.appTheme.song,songSettings:e.songSettings}));return e.jsx(e.Fragment,{children:o.display.strummingPattern&&e.jsx(i,{position:"relative",mt:"0.4em",children:e.jsx(t,{direction:"row",gap:"0.5em",justifyContent:"center",color:n.items.item.chordsPattern.chord.section.pattern,children:r.pattern.map((t,r)=>e.jsx(d,{fontWeight:"bold",textDecoration:k.includes(t)?"underline":"none",children:t.replace("e","")},r))})})})},I=(e,t)=>{const r=[];for(let n=2;n<e.length;n+=2)r.push(t(e[n-1],e[n],n-1));return r},z=r=>{const{theme:n,chordsIndex:s,songSettings:i}=b(e=>({theme:e.appTheme.song,chordsIndex:e.chordsIndex,songSettings:e.songSettings}));return e.jsxs(t,{direction:"column",justifyContent:"center",alignItems:"center",gap:"0.5rem",children:[e.jsx(t,{direction:"column",gap:"20px",children:r.data.map((r,x)=>e.jsx(t,{direction:"row",gap:"20px",justifyContent:"center",children:I(r,(r,x,j)=>{if("|"===r)return e.jsx(o,{height:"22px",width:"0px",borderWidth:"thin",borderColor:n.items.divider},j);if("/"===r)return e.jsx("br",{},j);const b=s[r];return void 0===b&&console.error(`Missing chord index for ID '${r}'`),e.jsxs(c,{isLazy:!0,children:[e.jsx(a,{children:e.jsxs(h,{as:"button",fontWeight:"bold",cursor:"pointer",position:"relative",whiteSpace:"nowrap",backgroundColor:n.items.item.chordsPattern.chord.background,color:n.items.item.chordsPattern.chord.color,children:["-"!==r&&void 0!==b?b.name:"-",i.display.chordTimes&&("1"!==x||i.display.chordTimesOne)&&e.jsx(l,{label:`Strum ${x} times`,children:e.jsx(d,{position:"absolute",top:"-10px",right:"0",transform:"translateX(100%)",fontSize:"xs",fontWeight:"bold",color:n.items.item.chordsPattern.chord.section.times,children:x})})]})}),e.jsx(m,{children:b&&e.jsxs(g,{zIndex:1,backgroundColor:n.items.item.chordsPattern.chord.section.popover.background,borderColor:n.items.item.chordsPattern.chord.section.popover.border,children:[e.jsx(p,{backgroundColor:n.items.item.chordsPattern.chord.section.popover.arrow}),e.jsx(u,{color:n.items.item.chordsPattern.chord.section.popover.closeButton}),e.jsx(t,{justifyContent:"center",padding:"25px",children:e.jsx(M,{...b})})]})})]},j)})},x))}),e.jsx(P,{pattern:r.strummingPattern})]})},W=r=>{f(e=>e.songSettings.display.chordTimesOne);const n=r.items.map(e=>e.map(e=>e.split(" ")));return e.jsx(t,{direction:"row",alignItems:"flex-end",justifyContent:"center",gap:"20px",children:n.map((t,n)=>{const o=Number(t[0][0]);return o>=r.strumms.length?(console.error({message:`Found strum index ${o} when strumms length is ${r.strumms.length}`,strumms:r.strumms}),null):e.jsx(z,{data:t,strummingPattern:r.strumms[o]},n)})})},F=w.lazy(()=>C(()=>import("./Lyrics-BBPi-3iF.js"),__vite__mapDeps([0,1,2,3,4,5])).then(e=>({default:e.ChordsV1Lyrics}))),$=(e,t)=>{const r=[];for(let n=2;n<e.length;n+=2)r.push(t(e[n-1],e[n],n-1));return r},A="1em",_=t=>{if(1==t.name.length)return t.name;const r=t.name[0],n=t.name.substring(1);return e.jsxs(i,{as:"span",children:[r,e.jsx(i,{as:"span",fontSize:"0.8em",children:n})]})},D=r=>{const{theme:n,songSettings:o}=b(e=>({theme:e.appTheme.song,songSettings:e.songSettings}));return e.jsxs(c,{isLazy:!0,children:[e.jsx(a,{children:e.jsxs(h,{as:"button",fontWeight:"bold",cursor:"pointer",position:"relative",whiteSpace:"nowrap",backgroundColor:n.items.item.chordsPattern.chord.background,color:n.items.item.chordsPattern.chord.color,children:["-"!==r.chordId&&void 0!==r.chordConfig?e.jsx(_,{name:r.chordConfig.name}):"-",o.display.chordTimes&&("1"!==r.times||o.display.chordTimesOne)&&e.jsx(l,{label:`Strum ${r.times} times`,children:e.jsx(d,{position:"absolute",top:"-10px",right:"0",transform:"translateX(100%)",fontSize:"xs",fontWeight:"bold",color:n.items.item.chordsPattern.chord.section.times,children:r.times})})]})}),e.jsx(m,{children:r.chordConfig&&e.jsxs(g,{zIndex:1,backgroundColor:n.items.item.chordsPattern.chord.section.popover.background,borderColor:n.items.item.chordsPattern.chord.section.popover.border,children:[e.jsx(p,{backgroundColor:n.items.item.chordsPattern.chord.section.popover.arrow}),e.jsx(u,{color:n.items.item.chordsPattern.chord.section.popover.closeButton}),e.jsx(t,{justifyContent:"center",padding:"25px",children:e.jsx(M,{...r.chordConfig})})]})})]})},L=t=>{const{theme:r}=b(e=>({theme:e.appTheme.song}));return e.jsx(i,{zIndex:1,position:"between"!==t.positioning?"absolute":"relative",alignSelf:"stretch",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",left:"begin"===t.positioning?"-1.5em":void 0,right:"end"===t.positioning?"-1.5em":void 0,borderRight:"begin"===t.positioning||"between"===t.positioning?"1.5px solid":"none",borderLeft:"end"===t.positioning?"1.5px solid":"none",borderColor:r.items.item.chordsPattern.divider})},O=t=>{const{theme:r,settingsDisplaySectionTimes:n}=b(e=>({theme:e.appTheme.song,settingsDisplaySectionTimes:e.songSettings.display.sectionTimes})),o=n&&"x1"!==t.times;return e.jsx(l,{label:`Repeat ${t.times} times`,children:e.jsx(d,{size:"sm",fontWeight:"bold",zIndex:1,position:"absolute",right:"-3.25em",height:"100%",display:"flex",justifyContent:"center",alignItems:"center",color:r.items.item.chordsPattern.chord.times.color,children:o&&e.jsx(e.Fragment,{children:t.times})})})},E=r=>{const{theme:n,chordsIndex:s}=b(e=>({theme:e.appTheme.song,chordsIndex:e.chordsIndex})),i=(e=>{const t=[[]];return e.forEach(e=>{"/"===e?t.push([]):t[t.length-1].push(e)}),t})(r.data);return e.jsxs(t,{direction:"row",justifyContent:"center",position:"relative",marginTop:r.marginTop,children:[r.isFirst&&e.jsx(L,{positioning:"begin"}),r.isLast&&e.jsx(L,{positioning:"end"}),e.jsx(t,{direction:"column",gap:A,children:i.map((r,i)=>e.jsx(t,{direction:"row",gap:"1em",justifyContent:"center",alignItems:"center",position:"relative",children:$(r,(t,r,i)=>{if("|"===t)return e.jsx(o,{height:"22px",width:"0px",borderWidth:"thin",borderColor:n.items.divider},i);const d=s[t];return e.jsx(D,{chordId:t,chordConfig:d,times:r},i)})},i))}),e.jsx(O,{times:r.times})]})},B=r=>{const n=new Array,o=new Array,s=new Array;return r.data.forEach(t=>{switch(t[0]){case"x":t.includes(" ! 0")?(t.split(" ! 0 ").forEach((e,t)=>{n.length<=t&&n.push(new Array),n[t].push(0===t?e:`x1 ${e}`)}),s.push(e.jsx(L,{positioning:"between"},s.length))):t.includes(" ? 0 ")?(t.split(" ? 0 ").forEach((e,t)=>{n.length<=t&&n.push(new Array),n[t].push(0===t?e:`x1 ${e}`)}),s.push(e.jsx(i,{height:"100%"},s.length))):(0===n.length&&n.push(new Array),n[0].push(t),s.push(e.jsx(L,{positioning:"between"},s.length))),o.push(t.substring(0,t.indexOf(" ")));break;case">":t.split(" ").slice(1).forEach((e,t)=>{n.length<=t&&n.push(new Array),n[t].push(`> ${e}`)}),o.push(" "),s.push(e.jsx(i,{height:"100%"},s.length));break;default:return console.error(`Not handled chords-v2 string "${t}"`),null}}),e.jsxs(t,{direction:"column",justifyContent:"center",alignItems:"center",gap:"1em",children:[e.jsx(t,{direction:"row",gap:"1em",children:n.map((i,d)=>e.jsxs(w.Fragment,{children:[e.jsx(t,{direction:"column",children:i.map((t,s)=>">"!=t[0]?e.jsx(E,{isFirst:0===d,isLast:d===n.length-1,marginTop:0!==s?A:"0",data:t.split(" ").slice(0),times:d===n.length-1?o[s]:void 0},s):e.jsx(P,{pattern:r.strummingPatterns[Number(t.substring(1))]},s))}),e.jsx(t,{direction:"column",gap:A,children:d<n.length-1?s:null})]},d))}),e.jsx(w.Suspense,{fallback:e.jsx(y,{}),children:e.jsx(F,{visible:r.showLyrics,lyrics:r.lyrics})})]})},R=Object.freeze(Object.defineProperty({__proto__:null,ChordDisplay:_,ChordsV2Renderer:B,default:B},Symbol.toStringTag,{value:"Module"})),M=n=>{const{theme:s,fretTheme:d}=b(e=>({theme:e.appTheme.chord,fretTheme:e.appTheme.fret}));return e.jsxs(t,{width:"13em",padding:"1em 1em",borderRadius:"1em",fontSize:"12px",borderWidth:"thin",display:"flex",flexDirection:"column",alignItems:"center",position:"relative",...n.containerProps,background:s.background,borderColor:s.border,children:[e.jsxs(x,{display:"flex",justifyContent:"center",alignItems:"center",gap:"5px",fontSize:"2.3em",textAlign:"center",mb:"0.25em",color:s.title,children:[e.jsx(_,{name:n.name}),n.startFret&&e.jsx(r,{size:"6",fontSize:"0.45em",fontWeight:"bold",borderWidth:"thin",backgroundColor:d.finger.background,borderColor:d.finger.border,color:s.title,children:n.startFret})]}),e.jsxs(i,{width:"11em",children:[e.jsx(o,{borderWidth:"thin",borderColor:s.dividers}),n.frets.map((t,r)=>{const i=new Map(Object.entries(t).map(([e,t])=>[e,t]));return e.jsxs(w.Fragment,{children:[e.jsx(T,{stringsToFingers:i}),r<n.frets.length&&e.jsx(o,{borderWidth:"thin",borderColor:s.dividers})]},r)})]})]})};export{M as C,W as a,R as b};
