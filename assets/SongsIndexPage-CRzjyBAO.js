import{j as e,s as g,T as u,B as i,S as b,I as m,F as d,H as x,l as j,P as f,n as v,p as C,q as y,v as k,o as S,C as I}from"./chakra-kPqXu0yo.js";import{i as w,r as c}from"./react-BTPqQck7.js";import{T,G as P,a as G}from"./react-icons-CXydn5A8.js";import{u as p,a as L}from"./index-9yeQRMvz.js";const $={acoustic:e.jsx(G,{}),electric:e.jsx(P,{})},z=r=>{const{songCard:o}=p(),l=w(),{chordsIndex:s}=L(),[a,h]=c.useState(!1);return e.jsxs(g,{gridTemplateColumns:["22px 90px 1000fr 1fr","22px 100px 1000fr 1fr"],columns:{base:3},cursor:"pointer",borderStyle:"solid",borderWidth:"1px",padding:["8px"],position:"relative",onClick:()=>l(`/${r.directory}`),backgroundColor:o.background,borderColor:o.border,_hover:{backgroundColor:o.hover.background},children:[e.jsx(u,{fontWeight:"bold",fontSize:["md"],alignContent:"center",textAlign:"right",color:o.text.number,children:r.index}),e.jsxs(i,{justifySelf:"center",position:"relative",width:["70px","80px"],height:["70px","80px"],borderRadius:"10px",overflow:"hidden",cursor:"pointer",children:[e.jsx(b,{isLoaded:a,width:"100%",height:"100%",borderRadius:"10px",children:e.jsx(m,{src:`/songs/${r.directory}/cover.jpeg`,alt:`${r.title} cover`,width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px",borderStyle:"solid",borderWidth:"3px",onLoad:()=>h(!0),borderColor:o.cover.border})}),e.jsx(d,{position:"absolute",top:0,left:0,width:"100%",height:"100%",backgroundColor:"rgba(0,0,0,0.6)",justifyContent:"center",alignItems:"center",opacity:0,transition:"opacity 0.2s",_hover:{opacity:1},children:e.jsx(i,{width:["30px"],height:["30px"],borderRadius:"50%",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:o.cover.hover.play.background,children:e.jsx(i,{as:"span",ml:"2px",width:0,height:0,borderTop:"6px solid transparent",borderBottom:"6px solid transparent",borderLeft:`10px solid ${o.cover.hover.play.text}`})})})]}),e.jsxs(i,{pt:"5px",children:[e.jsx(x,{noOfLines:1,as:"h1",size:["sm","md"],mb:["5px"],color:o.text.title,children:r.title}),e.jsx(x,{noOfLines:1,as:"h2",size:["xs","sm"],mb:["5px"],fontStyle:"italic",color:o.text.authors,children:r.artists.map((t,n)=>e.jsxs(i,{as:"span",children:[t," ",n<r.artists.length-1&&", "]},n))}),e.jsx(d,{color:o.text.typeTags,children:r.type.map((t,n)=>e.jsx(c.Fragment,{children:e.jsx(j,{label:t,children:$[t]})},n))})]}),e.jsx(d,{direction:"column",justifyContent:"center",alignItems:"center",children:e.jsxs(f,{children:[e.jsx(v,{children:e.jsx(i,{mr:["10px"],zIndex:2,"aria-label":"More about the song",onClick:t=>t.stopPropagation(),fontSize:"20px",padding:"5px",color:o.chords.pick,children:e.jsx(T,{})})}),e.jsxs(C,{backgroundColor:o.chords.popover.background,borderColor:o.chords.popover.border,children:[e.jsx(y,{backgroundColor:o.chords.popover.arrow}),e.jsx(k,{children:e.jsx(d,{gap:"5px",wrap:"wrap",children:r.chordIDs.map(t=>{const n=s[t];return console.assert(n!==void 0,`Could not find chord config for ${t}`),e.jsx(S,{size:["sm","md"],borderStyle:"solid",borderWidth:"thin",justifyContent:"center",backgroundColor:o.chords.popover.tag.background,borderColor:o.chords.popover.tag.border,color:o.chords.popover.tag.text,children:s[t].name},t)})})})]})]})})]})},A=()=>{const{songsIndexPage:r}=p(),[o,l]=c.useState([]);return c.useEffect(()=>{fetch("/songs/index.json").then(s=>s.json()).then(s=>l(s.index)).catch(s=>{console.error("Failed to fetch songs index:",s)})},[]),e.jsx(I,{maxW:["100vw","xl"],padding:["0em","1em"],borderRadius:"0.5em",background:r.background,children:o.map((s,a)=>e.jsx(z,{index:a+1,...s},a))})};export{A as SongsIndexPage,A as default};
