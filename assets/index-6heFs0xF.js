const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/ChordsV1-DqRqP2f5.js","assets/index-CYyRSOA3.js","assets/chakra-Bp_y4ZeA.js","assets/react-Dawx916Q.js","assets/emotion-BT-7dynU.js","assets/framer-motion-CBgHlZgs.js","assets/index-DIUNmqae.js","assets/ChordsV3-CQFSPFOw.js","assets/GuitarTabsV1-RH8EGgBi.js","assets/index-C70yCRXw.js","assets/index-BG72fPGQ.js","assets/index-BTOh0T1S.js"])))=>i.map(i=>d[i]);
import{u as e,A as r,g as s,h as t,i as o,G as i,a as n,j as a,k as c,e as l,_ as d,f as h,l as m}from"./index-CYyRSOA3.js";import{j as x,H as p,p as j,J as u,F as y,B as g,o as b,I as f,O as w,k as _,r as v,K as C,y as I,n as L}from"./chakra-Bp_y4ZeA.js";import{C as k,G as z}from"./index-DIUNmqae.js";import{r as S}from"./react-Dawx916Q.js";import"./emotion-BT-7dynU.js";import"./framer-motion-CBgHlZgs.js";const V=i=>{const{chordsIndex:n,theme:a}=e(e=>({chordsIndex:e.chordsIndex,theme:e.appTheme.song}));return 1===i.chordIDs.length&&"-"===i.chordIDs[0]||0===i.chordIDs.length?null:x.jsxs(r,{defaultOpen:!0,children:[x.jsxs(s,{boxProps:{borderColor:a.items.divider,display:"flex",justifyContent:"center",alignItems:"center",position:"relative"},children:[x.jsx(p,{as:"h3",size:"md",textDecoration:"underline",width:"100%",color:a.items.item.title,children:"Chords"}),x.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:a.items.item.title})]}),x.jsx(o,{children:x.jsx(j,{display:"flex",gap:"10px",overflowX:"auto",padding:["1.1em 0em","1.1em 1em"],children:i.chordIDs.map(e=>{const r=n[e];return void 0===r?(console.error(`Missing chord config for ID ${e}`),null):x.jsx(u,{children:x.jsx(k,{...r,containerProps:{fontSize:["7px","8px","9px"]}})},e)})})})]})};function D(e){return i({attr:{viewBox:"0 0 256 256",fill:"currentColor"},child:[{tag:"path",attr:{d:"M208,48a24,24,0,0,0-24,24H72a24,24,0,0,0-48,0v80a64,64,0,0,0,64,64h80a64,64,0,0,0,64-64V72A24,24,0,0,0,208,48Zm-8,104a32,32,0,0,1-32,32H88a32,32,0,0,1-32-32v-8a32,32,0,0,1,32-32h80a32,32,0,0,1,32,32Z",opacity:"0.2"},child:[]},{tag:"path",attr:{d:"M168,104H88a40,40,0,0,0-40,40v8a40,40,0,0,0,40,40h80a40,40,0,0,0,40-40v-8A40,40,0,0,0,168,104Zm24,48a24,24,0,0,1-24,24H88a24,24,0,0,1-24-24v-8a24,24,0,0,1,24-24h80a24,24,0,0,1,24,24ZM208,40a32.06,32.06,0,0,0-31,24H79a32,32,0,0,0-63,8v80a72.08,72.08,0,0,0,72,72h80a72.08,72.08,0,0,0,72-72V72A32,32,0,0,0,208,40Zm16,112a56.06,56.06,0,0,1-56,56H88a56.06,56.06,0,0,1-56-56V72a16,16,0,0,1,32,0,8,8,0,0,0,8,8H184a8,8,0,0,0,8-8,16,16,0,0,1,32,0Zm-120-4a12,12,0,1,1-12-12A12,12,0,0,1,104,148Zm72,0a12,12,0,1,1-12-12A12,12,0,0,1,176,148Z"},child:[]}]})(e)}const T={acoustic:x.jsx(c,{}),electric:x.jsx(a,{})},$=e=>{const[r,s]=S.useState(!1),t=n(e=>e.appTheme.song);return x.jsxs(y,{direction:"column",alignItems:"center",mb:"10px",overflowX:"hidden",children:[x.jsxs(g,{position:"relative",width:["70px","80px"],height:["70px","80px"],mb:["5px"],mt:"1em",overflow:"visible",children:[x.jsx(b,{isLoaded:r,width:"100%",height:"100%",borderRadius:"10px",children:x.jsx(f,{src:`/songs/${e.directory}/cover-192x192.webp`,srcSet:`\n              /songs/${e.directory}/cover-64x64.webp   64w,\n              /songs/${e.directory}/cover-128x128.webp 128w,\n              /songs/${e.directory}/cover-192x192.webp 192w`,alt:`${e.title} cover`,width:"100%",height:"100%",objectFit:"cover",borderRadius:"10px",borderStyle:"solid",borderWidth:"thin",onLoad:()=>s(!0),borderColor:t.header.coverBorder})}),x.jsx(w,{position:"absolute",right:"0",top:"0",transform:"translate(50%, -50%)",size:"1em",padding:"15px",fontWeight:"bold",borderWidth:"thin",backgroundColor:t.capo.background,borderColor:t.capo.border,color:t.capo.text,children:x.jsxs(y,{alignItems:"end",children:[x.jsx(_,{fontSize:"sm",children:"C"}),x.jsx(_,{fontSize:"xs",children:e.capo})]})}),x.jsxs(y,{position:"absolute",right:"-1.25em",bottom:"0",justifyContent:"center",alignItems:"center",color:t.header.typeTags,direction:"column",children:[e.type.map((e,r)=>x.jsx(S.Fragment,{children:x.jsx(v,{label:e,children:T[e]})},r)),x.jsx(v,{label:x.jsxs(y,{justify:"center",alignItems:"center",gap:"5px",color:t.header.contributors.contributor,children:[x.jsx(D,{}),x.jsx(g,{as:"span",fontWeight:"bold",children:"Contributors:"}),x.jsx(g,{as:"span",children:0===e.contributors.length?"No Contributors":e.contributors.join(", ")})]}),children:x.jsx(D,{})})]})]}),x.jsx(p,{noOfLines:1,as:"h1",size:["sm","md"],mb:["5px"],textAlign:"center",color:t.header.title,children:e.title}),x.jsx(p,{noOfLines:1,as:"h2",size:["xs","sm"],mb:["5px"],fontStyle:"italic",textAlign:"center",color:t.header.artists,children:e.artists.map((r,s)=>x.jsxs(S.Fragment,{children:[r," ",s<e.artists.length-1&&", "]},s))})]})},A=e=>{const r=n(e=>e.appTheme.song.buttons);return x.jsx(x.Fragment,{children:e.available&&x.jsx(g,{display:"flex",justifyContent:"center",mb:"1em",children:x.jsx(C,{size:"sm",onClick:e.onClick,colorScheme:e.lyricsShown?r.lyrics.bgHide:r.lyrics.bgShow,color:r.lyrics.text,children:e.lyricsShown?"Hide Lyrics":"Show Lyrics"})})})},R=S.lazy(()=>d(()=>import("./ChordsV1-DqRqP2f5.js"),__vite__mapDeps([0,1,2,3,4,5,6])).then(e=>({default:e.ChordsV1Renderer}))),E=S.lazy(()=>d(()=>import("./index-DIUNmqae.js").then(e=>e.e),__vite__mapDeps([6,2,3,4,5,1])).then(e=>({default:e.ChordsV2Renderer}))),O=S.lazy(()=>d(()=>import("./ChordsV3-CQFSPFOw.js"),__vite__mapDeps([7,1,2,3,4,5,6])).then(e=>({default:e.ChordsV3Renderer}))),P=S.lazy(()=>d(()=>import("./GuitarTabsV1-RH8EGgBi.js"),__vite__mapDeps([8,2,3,4,5,1])).then(e=>({default:e.GuitarTabsV1Renderer}))),F=e=>{switch(e.entry.renderer){case"chords-v1":return x.jsx(R,{data:e.entry.data,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v2":return x.jsx(E,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"chords-v3":return x.jsx(O,{data:e.entry.data,strummingPatterns:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics});case"gtab-v1":return x.jsx(x.Fragment,{children:x.jsx(P,{data:e.entry.data})});default:return console.error(`Unimplemented chords type "${e.entry.renderer}`),x.jsx(g,{color:"red",backgroundColor:"black",padding:"0.25em 0.5em",borderRadius:"5px",cursor:"help",children:x.jsx(v,{label:x.jsx(g,{as:"pre",whiteSpace:"pre-wrap",fontSize:"xs",maxW:"600px",children:JSON.stringify(e.entry,null,2)}),children:`[Configuration-Error] Unimplemented renderer type "${e.entry.renderer}"`})})}},H=e=>x.jsx(y,{direction:"column",alignItems:"center",overflowX:["auto","hidden"],children:x.jsx(S.Suspense,{fallback:x.jsx(l,{}),children:x.jsx(F,{...e})})}),Z=e=>{const i=n(e=>e.appTheme.song);return x.jsxs(r,{defaultOpen:!0,children:[x.jsxs(s,{boxProps:{display:"flex",justifyContent:"center",alignItems:"center",position:"relative",borderColor:i.items.divider},children:[x.jsx(p,{as:"h3",size:"md",textAlign:"center",textDecoration:"underline",textTransform:"capitalize",color:i.items.item.title,children:x.jsxs(_,{as:"span",position:"relative",fontSize:["lg","xl"],children:[e.name,e.times>1&&x.jsxs(I,{size:"sm",position:"absolute",bottom:0,right:0,transform:"translate(120%, 20%)",backgroundColor:i.items.item.times.background,color:i.items.item.times.color,children:["x",e.times]})]})}),x.jsx(t,{boxProps:{position:"absolute",right:"10px"},color:i.items.item.title})]}),x.jsx(o,{children:x.jsx(y,{direction:"column",gap:z,pt:"0.5em",pb:"1.5em",children:e.entries.map((r,s)=>x.jsx(H,{entry:r,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics},s))})})]})},W=e=>x.jsx(x.Fragment,{children:e.order.map((r,s)=>{const t=e.sections[r];return console.assert(void 0!==t,`Failed to find song section data for "${r}"`),x.jsx(Z,{...t,strumms:e.strumms,showLyrics:e.showLyrics,lyrics:e.lyrics[s]},`${r}-${s}`)})}),M=S.lazy(()=>d(()=>import("./index-C70yCRXw.js"),__vite__mapDeps([9,2,3,4,5,1]))),G=S.lazy(()=>d(()=>import("./index-BG72fPGQ.js"),__vite__mapDeps([10,2,3,4,5,1]))),B=S.lazy(()=>d(()=>import("./index-BTOh0T1S.js"),__vite__mapDeps([11,3])).then(e=>({default:e.InView}))),X=e=>{const r=n(e=>e.appTheme.song),s=n(e=>e.appTheme.id),[t,o]=h(e.title+"-show-lyrics",!1),[i,a]=h(e.title+"-lyrics",[]);return x.jsxs(L,{maxW:["100vw","5xl"],padding:["25px 0px","2em 1em"],borderRadius:["0em","0.5em"],height:"100%",overflowY:"scroll",backgroundColor:r.background,children:[x.jsx($,{directory:e.directory,title:e.title,artists:e.artists,capo:e.capo,type:e.type,contributors:e.contributors}),x.jsxs(g,{display:"flex",justifyContent:"center",mb:"1em",gap:"10px",children:[x.jsx(A,{available:e.lyrics,lyricsShown:t,onClick:()=>{o(!t),0===i.length&&m(`/songs/${e.directory}/lyrics.min.json.gz.bin`,`/songs/${e.directory}/lyrics.min.json`,`/songs/${e.directory}/lyrics.json`,e=>a(e.lyrics),e=>{console.error("Failed to fetch song lyrics:",e)})}}),x.jsx(C,{size:"sm",onClick:()=>{window.open(`/songs/${e.directory}/pdf/${e.directory}.${s}.pdf`,"_blank")},colorScheme:r.buttons.pdf.bg,color:r.buttons.pdf.text,children:"Open PDF"})]}),x.jsxs(g,{padding:["1.5rem 10px","1.5rem 1rem"],borderRadius:"1rem",backgroundColor:r.items.background,children:[x.jsx(V,{chordIDs:e.chordIDs}),x.jsx(W,{sections:e.sections,order:e.order,strumms:e.strumms,showLyrics:t&&i.length>0,lyrics:i})]}),e.notes.length>0&&x.jsx(S.Suspense,{fallback:x.jsx(l,{}),children:x.jsx(M,{notes:e.notes})}),x.jsx(B,{triggerOnce:!0,rootMargin:"300px",children:({inView:r,ref:s})=>x.jsx(S.Suspense,{fallback:x.jsx(l,{}),children:x.jsx(g,{ref:s,children:r?x.jsx(G,{res:e.res}):null})})})]})};export{X as Song,X as default};
