import{j as e,a4 as j,a5 as k,F as c,B as l,b as C,H as m,Y as f,K as T,N as S,O as A,Q as v}from"./chakra-CgcKltIF.js";import{u as g,a as i,f as I,D as $,s as B}from"./index-DMFxoCN7.js";import{r as a}from"./react-CnHX3GmW.js";import"./react-virtualized-BkaSW4Fc.js";import"./react-icons-CUl3NLzO.js";const d=o=>{const{appMenu:r}=i(),n=r.items.settings.songOption;return e.jsx(k,{fontWeight:"bold",...o,color:n.color,iconColor:n.icon.color,sx:{"& .chakra-checkbox__control":{borderColor:n.icon.border,backgroundColor:n.icon.background,_checked:{backgroundColor:n.icon.checked.background,borderColor:n.icon.checked.border}}}})},P=()=>{const{songSettings:{display:o}}=g();return e.jsxs(j,{align:"start",spacing:3,children:[e.jsx(d,{isChecked:o.times.value,onChange:()=>o.times.set?.(!o.times.value),children:"Segment Times"}),e.jsx(d,{isChecked:o.chordTimes.value,onChange:()=>o.chordTimes.set?.(!o.chordTimes.value),children:"Chord Times"}),e.jsx(d,{isChecked:o.strummingPattern.value,onChange:()=>o.strummingPattern.set?.(!o.strummingPattern.value),children:"Strumming Pattern"})]})},F=()=>{const{appMenu:o}=i(),r=o.items.settings.themePicker,{appTheme:n,appLogoURL:u}=g(),[x,p]=a.useState([]);a.useEffect(()=>{fetch("/themes/index.json").then(t=>t.json()).then(t=>p(t.index)).catch(t=>{console.error("Failed to fetch Themes index:",t)})},[]);const b=t=>{fetch(`/themes/${t}/config.json`).then(s=>s.json()).then(s=>{n.set?.(I($,s)),u.set?.(`/themes/${t}/logo.svg`)}).catch(s=>{console.error(`Failed to fetch theme data of file ${t}`,s)})};return e.jsx(c,{direction:"column",justifyContent:"center",borderRadius:"10px",backgroundColor:r.background,children:e.jsx(c,{direction:"column",children:x.map((t,s)=>e.jsxs(c,{alignItems:"center",gap:"10px",padding:["0.5em 0.1em"],borderStyle:"solid",borderWidth:"thin",cursor:"pointer",onClick:()=>b(t.directory),backgroundColor:r.item.background,borderColor:r.item.border,_hover:{backgroundColor:r.item.hoverBackground},children:[e.jsxs(l,{width:"25px",textAlign:"right",fontWeight:"bold",color:r.item.indexColor,children:[s+1,"."]}),e.jsx(l,{width:["30px","35px"],height:["30px","35px"],backgroundColor:t.mainColor,borderRadius:"10px",borderStyle:"solid",borderWidth:"thin",padding:["5px"],borderColor:r.item.colorBoxBorder,children:e.jsx(C,{src:`/themes/${t.directory}/logo.svg`,alt:"Book of Frets theme logo",width:"100%",height:"100%",objectFit:"cover"})}),e.jsx(m,{as:"h5",size:"sm",color:r.item.title,children:t.title})]},s))})})},h=o=>{const{appMenu:r}=i();return e.jsxs(T,{borderStyle:"none",children:[e.jsxs(S,{justifyContent:"center",mb:"5px",children:[e.jsx(m,{as:"h4",size:"md",textAlign:"center",color:r.items.settings.title,children:o.title}),e.jsx(A,{color:r.items.settings.title})]}),e.jsx(v,{padding:"0",children:o.children})]})},R=()=>{const{general:o}=i();return a.useLayoutEffect(()=>B(o.background),[o.background]),e.jsxs(f,{allowMultiple:!0,defaultIndex:[0,1],display:"flex",flexDirection:"column",gap:"1em",children:[e.jsx(h,{title:"Song Options",children:e.jsx(P,{})}),e.jsx(h,{title:"Theme",children:e.jsx(F,{})})]})};export{R as Settings,R as default};
