import{j as e,F as t,B as s,h as r,k as o}from"./chakra-xEmxteXZ.js";import{a as n}from"./index-CUEOIh1P.js";import"./react-Dawx916Q.js";import"./emotion-CmbqVCnl.js";import"./framer-motion-B1vkIGQC.js";const a=({name:r,frets:a})=>{const i=n(e=>e.appTheme.song);return e.jsxs(t,{align:"center",children:[e.jsx(s,{position:"sticky",left:"0",zIndex:5,backgroundColor:"blackAlpha.700",px:"1",fontWeight:"bold",color:i.items.item.stringsPattern.stringNames,fontFamily:"monospace",children:r}),e.jsx(o,{backgroundColor:"blackAlpha.200",fontFamily:"monospace",whiteSpace:"pre",color:i.items.item.stringsPattern.fret.text,children:a})]})},i=({chords:t})=>{const s=n(e=>e.appTheme.song),r=t.map((e,s)=>0===s?e.name:" ".repeat(e.offset-t[s-1].offset-t[s-1].name.length)+e.name).join("");return e.jsx(o,{ml:"3ch",fontFamily:"monospace",whiteSpace:"pre",color:s.items.item.stringsPattern.stringNames,children:r})},c=o=>{const c=n(e=>e.appTheme.song),{stringsToFrets:m,chords:l}=(e=>{const t={E:["|"],A:["|"],D:["|"],G:["|"],B:["|"],e:["|"]},s=[],r=Object.values(t);let o=0;return e.split(" ").map((e,n)=>{try{if("-"===e||"|"===e)return r.forEach(t=>t.push(e)),void(o+=1);if("["===e.charAt(0))return void s.push({name:e.slice(1,e.length-1),offset:o});let a,i=0;const c=new Set;e.split("+").map((s,r)=>{try{const e=t[s.charAt(0)];c.add(e);const r=s.slice(1);i=Math.max(i,r.length),e.push(r),a=e.length}catch(o){console.log(`item-${n}+${r}: "${e}" | "${s}"`),console.error(o)}}),void 0!==a&&(r.forEach(e=>{if(c.has(e)){const t=i-e[e.length-1].toString().length;t>0&&e.push("-".repeat(t))}else e.push("-".repeat(i))}),o+=i)}catch(a){console.log(`item-${n}: ${e}`),console.error(a)}}),r.forEach(e=>e.push("|")),{stringsToFrets:t,chords:s}})(o.data);return e.jsx(t,{direction:"column",width:"100%",overflowX:"auto",fontSize:["1.2em"],children:e.jsxs(s,{minWidth:"max-content",children:[l.length>0&&e.jsx(i,{chords:l}),e.jsx(a,{name:"e",frets:m.e}),e.jsx(a,{name:"B",frets:m.B}),e.jsx(a,{name:"G",frets:m.G}),e.jsx(a,{name:"D",frets:m.D}),e.jsx(a,{name:"A",frets:m.A}),e.jsx(a,{name:"E",frets:m.E}),e.jsx(r,{marginTop:"1em",borderColor:c.items.item.stringsPattern.divider})]})})};export{c as GuitarTabsV1Renderer,c as default};
